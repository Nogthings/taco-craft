# TacoCraft SAAS MVP - Environment Configuration
# Configuración optimizada para presupuesto de $30 USD/mes

# =============================================================================
# APLICACIÓN
# =============================================================================
APP_NAME="{{PROJECT_NAME}}"
APP_ENV=local
APP_KEY=base64:{{APP_KEY}}
APP_DEBUG=true
APP_URL=https://{{PROJECT_DOMAIN}}
APP_TIMEZONE=America/Mexico_City
APP_LOCALE=es
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=es_ES

# =============================================================================
# BASE DE DATOS
# =============================================================================
DB_CONNECTION=mysql
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE={{PROJECT_NAME}}_db
DB_USERNAME={{DB_USERNAME}}
DB_PASSWORD={{DB_PASSWORD}}
DB_ROOT_PASSWORD={{DB_ROOT_PASSWORD}}

# Configuración de conexión
DB_CHARSET=utf8mb4
DB_COLLATION=utf8mb4_unicode_ci
DB_PREFIX=
DB_STRICT=true
DB_ENGINE=InnoDB

# =============================================================================
# REDIS - CACHE, SESIONES Y COLAS
# =============================================================================
REDIS_HOST=redis
REDIS_PASSWORD={{REDIS_PASSWORD}}
REDIS_PORT=6379
REDIS_DB=0

# Cache
CACHE_DRIVER=redis
CACHE_PREFIX={{PROJECT_NAME}}_cache

# Sesiones
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=.{{PROJECT_DOMAIN}}
SESSION_SECURE_COOKIE=true
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=lax

# Colas
QUEUE_CONNECTION=redis
QUEUE_PREFIX={{PROJECT_NAME}}_queue

# =============================================================================
# MINIO - ALMACENAMIENTO S3 COMPATIBLE
# =============================================================================
MINIO_ENDPOINT=http://minio:9000
MINIO_KEY={{MINIO_ACCESS_KEY}}
MINIO_SECRET={{MINIO_SECRET_KEY}}
MINIO_BUCKET={{PROJECT_NAME}}-storage
MINIO_URL=https://{{PROJECT_DOMAIN}}/storage
MINIO_USE_PATH_STYLE_ENDPOINT=true
MINIO_REGION=us-east-1

# Configuración de filesystem
FILESYSTEM_DISK=minio
FILESYSTEM_DRIVER=s3

# =============================================================================
# CORREO ELECTRÓNICO
# =============================================================================
# Desarrollo (MailHog)
MAIL_MAILER=smtp
MAIL_HOST=mailhog
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS=noreply@{{PROJECT_DOMAIN}}
MAIL_FROM_NAME="{{PROJECT_NAME}}"

# Producción (configurar con proveedor real)
# MAIL_MAILER=smtp
# MAIL_HOST=smtp.mailtrap.io
# MAIL_PORT=587
# MAIL_USERNAME=your_username
# MAIL_PASSWORD=your_password
# MAIL_ENCRYPTION=tls

# =============================================================================
# LOGGING
# =============================================================================
LOG_CHANNEL=stack
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug
LOG_STACK=single,daily
LOG_DAILY_DAYS=7

# =============================================================================
# BROADCASTING
# =============================================================================
BROADCAST_DRIVER=log
# Para WebSockets en producción:
# BROADCAST_DRIVER=pusher
# PUSHER_APP_ID=your_app_id
# PUSHER_APP_KEY=your_app_key
# PUSHER_APP_SECRET=your_app_secret
# PUSHER_HOST=
# PUSHER_PORT=443
# PUSHER_SCHEME=https
# PUSHER_APP_CLUSTER=mt1

# =============================================================================
# SERVICIOS EXTERNOS
# =============================================================================

# Google Analytics (opcional)
# GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# Google Maps (para ubicaciones de restaurantes)
# GOOGLE_MAPS_API_KEY=your_google_maps_api_key

# Stripe (para pagos)
# STRIPE_KEY=pk_test_...
# STRIPE_SECRET=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# PayPal (alternativa de pago)
# PAYPAL_CLIENT_ID=your_paypal_client_id
# PAYPAL_CLIENT_SECRET=your_paypal_client_secret
# PAYPAL_MODE=sandbox

# Twilio (para SMS/WhatsApp)
# TWILIO_SID=your_twilio_sid
# TWILIO_TOKEN=your_twilio_token
# TWILIO_FROM=+1234567890

# =============================================================================
# CONFIGURACIÓN DE SAAS
# =============================================================================

# Configuración de tenants/restaurantes
MAX_RESTAURANTS_PER_USER=5
MAX_MENU_ITEMS_PER_RESTAURANT=100
MAX_CATEGORIES_PER_RESTAURANT=20
MAX_IMAGE_SIZE_MB=5
ALLOWED_IMAGE_TYPES=jpg,jpeg,png,webp

# Configuración de QR
QR_CODE_SIZE=300
QR_CODE_MARGIN=2
QR_CODE_FORMAT=png

# Configuración de imágenes
IMAGE_OPTIMIZATION=true
IMAGE_QUALITY=85
IMAGE_SIZES=thumb:150x150,medium:500x500,large:1200x1200
IMAGE_FORMAT=webp

# Configuración de cache
MENU_CACHE_TTL=3600
RESTAURANT_CACHE_TTL=7200
IMAGE_CACHE_TTL=604800

# =============================================================================
# CONFIGURACIÓN DE DESARROLLO
# =============================================================================

# Puertos para desarrollo
HTTP_PORT=80
HTTPS_PORT=443
DB_PORT=3306
REDIS_PORT=6379
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MAILHOG_PORT=8025

# Configuración de contenedores
RUN_MIGRATIONS=true
SETUP_MINIO=true
ENABLE_CRON=true

# Configuración de debugging
TELESCOPE_ENABLED=true
DEBUGBAR_ENABLED=true
QUERY_DETECTOR_ENABLED=true

# =============================================================================
# CONFIGURACIÓN DE PRODUCCIÓN
# =============================================================================

# Optimizaciones
OPCACHE_ENABLED=true
VIEW_CACHE_ENABLED=true
ROUTE_CACHE_ENABLED=true
CONFIG_CACHE_ENABLED=true

# Seguridad
SESSION_SECURE_COOKIE=true
CSRF_COOKIE_SECURE=true
HSTS_ENABLED=true
CSP_ENABLED=false

# Monitoreo
SENTRY_LARAVEL_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# CONFIGURACIÓN DE BACKUP
# =============================================================================

# Configuración de respaldos
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=7
BACKUP_DESTINATION=local

# Para respaldos en la nube
# BACKUP_DESTINATION=s3
# AWS_ACCESS_KEY_ID=your_aws_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret
# AWS_DEFAULT_REGION=us-east-1
# AWS_BUCKET=your-backup-bucket

# =============================================================================
# CONFIGURACIÓN DE CDN
# =============================================================================

# Cloudflare (recomendado para MVP)
# CDN_URL=https://cdn.{{PROJECT_DOMAIN}}
# CLOUDFLARE_API_TOKEN=your_cloudflare_token
# CLOUDFLARE_ZONE_ID=your_zone_id

# =============================================================================
# CONFIGURACIÓN DE RATE LIMITING
# =============================================================================

# Rate limits para API
API_RATE_LIMIT=60
API_RATE_LIMIT_WINDOW=1

# Rate limits para login
LOGIN_RATE_LIMIT=5
LOGIN_RATE_LIMIT_WINDOW=1

# Rate limits para registro
REGISTER_RATE_LIMIT=3
REGISTER_RATE_LIMIT_WINDOW=1

# =============================================================================
# CONFIGURACIÓN DE FEATURES FLAGS
# =============================================================================

# Features habilitadas
FEATURE_REGISTRATION=true
FEATURE_EMAIL_VERIFICATION=true
FEATURE_PASSWORD_RESET=true
FEATURE_TWO_FACTOR=false
FEATURE_API_TOKENS=true
FEATURE_TEAMS=false
FEATURE_NOTIFICATIONS=true
FEATURE_ANALYTICS=true

# =============================================================================
# CONFIGURACIÓN DE LOCALIZACIÓN
# =============================================================================

# Configuración de moneda
DEFAULT_CURRENCY=MXN
CURRENCY_SYMBOL=$
CURRENCY_POSITION=before

# Configuración de idiomas soportados
SUPPORTED_LOCALES=es,en
DEFAULT_LOCALE=es

# =============================================================================
# VARIABLES DE DOCKER
# =============================================================================

# Estas variables son utilizadas por docker-compose
PROJECT_NAME={{PROJECT_NAME}}
PROJECT_DOMAIN={{PROJECT_DOMAIN}}
PHP_VERSION={{PHP_VERSION}}
DB_USERNAME={{DB_USERNAME}}
DB_PASSWORD={{DB_PASSWORD}}
DB_ROOT_PASSWORD={{DB_ROOT_PASSWORD}}
REDIS_PASSWORD={{REDIS_PASSWORD}}
MINIO_ACCESS_KEY={{MINIO_ACCESS_KEY}}
MINIO_SECRET_KEY={{MINIO_SECRET_KEY}}